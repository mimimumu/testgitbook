
<!DOCTYPE HTML>
<html lang="en" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Smart scene Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-prism/prism-okaidia.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-anchors/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="SmartScene_Manager.html" />
    
    
    <link rel="prev" href="Group_control.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="Overview.html">
            
                <a href="Overview.html">
            
                    
                    Function Overview
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="Preparation.html">
            
                <a href="Preparation.html">
            
                    
                    Preparation for integration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="Integrated.html">
            
                <a href="Integrated.html">
            
                    
                    Integrate SDK
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="User.html">
            
                <a href="User.html">
            
                    
                    User Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.5.1" data-path="User_Sdk_Update.html">
            
                <a href="User_Sdk_Update.html">
            
                    
                    SDK account upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.2" data-path="User_mobile.html">
            
                <a href="User_mobile.html">
            
                    
                    Use Mobile Phone
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.3" data-path="User_email.html">
            
                <a href="User_email.html">
            
                    
                    Use Email
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.4" data-path="User_uid.html">
            
                <a href="User_uid.html">
            
                    
                    User uid Login System
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.5" data-path="User_Third_Login.html">
            
                <a href="User_Third_Login.html">
            
                    
                    Third Party Login
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.6" data-path="User_Logout.html">
            
                <a href="User_Logout.html">
            
                    
                    Modify user information
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.7" data-path="User_Logout.html">
            
                <a href="User_Logout.html#log-out-of-the-login-interface">
            
                    
                    Sign out
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.8" data-path="User_Logout.html">
            
                <a href="User_Logout.html#disable-account-deregister-user">
            
                    
                    Disable account
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.9" data-path="User_Data_Model.html">
            
                <a href="User_Data_Model.html">
            
                    
                    Data Model
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5.10" data-path="User_Session.html">
            
                <a href="User_Session.html">
            
                    
                    Handling of Expired Session
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="Home_Manager.html">
            
                <a href="Home_Manager.html">
            
                    
                    Home management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.6.1" data-path="Home_Manager.html">
            
                <a href="Home_Manager.html">
            
                    
                    Home Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.2" data-path="Home_Option.html">
            
                <a href="Home_Option.html">
            
                    
                    Operation Class of Home
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.3" data-path="Home_Member.html">
            
                <a href="Home_Member.html">
            
                    
                    Home Member Management Class
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6.4" data-path="Room.html">
            
                <a href="Room.html">
            
                    
                    Room information management
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="Activator.html">
            
                <a href="Activator.html">
            
                    
                    Network Configuration
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="Activator_Wifi.html">
            
                <a href="Activator_Wifi.html#ez-mode-configuration">
            
                    
                    EZ Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="Activator_Wifi.html">
            
                <a href="Activator_Wifi.html#ap-mode-configuration">
            
                    
                    AP Mode Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="Activator_Zigbee.html">
            
                <a href="Activator_Zigbee.html">
            
                    
                    ZigBee Gateway Configuration
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="Activator_ZigbeeSub.html">
            
                <a href="Activator_ZigbeeSub.html">
            
                    
                    ZigBee Sub-device Configuration
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="Device.html">
            
                <a href="Device.html">
            
                    
                    Device Control
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="Device.html">
            
                <a href="Device.html#function-points-of-device">
            
                    
                    Function Points of Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="Device.html">
            
                <a href="Device.html#device-control">
            
                    
                    Device Control
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.3" data-path="Device.html">
            
                <a href="Device.html#device-renaming">
            
                    
                    Device Renaming
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.4" data-path="Device.html">
            
                <a href="Device.html#remove-device">
            
                    
                    Remove Device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.5" data-path="Device.html">
            
                <a href="Device.html#obtain-wifi-signal-strength-of-device">
            
                    
                    Obtain Wifi signal strength of device
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.6" data-path="OTA.html">
            
                <a href="OTA.html">
            
                    
                    Firmware upgrade
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.7" data-path="Gateway.html">
            
                <a href="Gateway.html">
            
                    
                    Gateway
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="Shared.html">
            
                <a href="Shared.html">
            
                    
                    Shared devices
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="Shared_Device_add.html">
            
                <a href="Shared_Device_add.html">
            
                    
                    Add for Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="Shared_Device_Remove.html">
            
                <a href="Shared_Device_Remove.html">
            
                    
                    Removing Sharing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="Shared_Device_Rename.html">
            
                <a href="Shared_Device_Rename.html">
            
                    
                    Modifying Remark Name
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Timer.html">
            
                <a href="Timer.html">
            
                    
                    Timer task
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="Group.html">
            
                <a href="Group.html">
            
                    
                    Group Management
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="Group_wifi.html">
            
                <a href="Group_wifi.html">
            
                    
                    Wifi Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="Group_zigbee.html">
            
                <a href="Group_zigbee.html">
            
                    
                    Zigbee Group
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="Group_control.html">
            
                <a href="Group_control.html">
            
                    
                    Group Control
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter active" data-level="1.13" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html">
            
                    
                    Smart scene
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Smart">
            
                    
                    Smart scene
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="SmartScene_Manager.html">
            
                <a href="SmartScene_Manager.html#Scene_operation">
            
                    
                    Scene operation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" data-path="Device_Data_Channel.html">
            
                <a href="Device_Data_Channel.html">
            
                    
                    Device data channel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message Center
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="Message.html">
            
                <a href="Message.html">
            
                    
                    Message list
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="MessagePush.html">
            
                <a href="MessagePush.html">
            
                    
                    Message push switch
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.16" data-path="Feedback.html">
            
                <a href="Feedback.html">
            
                    
                    Feedback
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17" data-path="Push.html">
            
                <a href="Push.html">
            
                    
                    Integrate Push
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.17.1" data-path="Push_fcm.html">
            
                <a href="Push_fcm.html">
            
                    
                    FCM Push
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.17.2" data-path="Push_umeng.html">
            
                <a href="Push_umeng.html">
            
                    
                    Umeng
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.18" data-path="CommonInterface.html">
            
                <a href="CommonInterface.html">
            
                    
                    Common Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.19" data-path="ErrorCode.html">
            
                <a href="ErrorCode.html">
            
                    
                    Error Code
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.20" data-path="ChangeLog.html">
            
                <a href="ChangeLog.html">
            
                    
                    Change Log
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Smart scene</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="smart"><a name="smart" class="plugin-anchor" href="#smart"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Smart">Smart</span></h1>
<h2 id="brief-introduction"><a name="brief-introduction" class="plugin-anchor" href="#brief-introduction"><i class="fa fa-link" aria-hidden="true"></i></a>Brief Introduction</h2>
<p>Smart divides into scene or automation actions. Scene is a condition that users add actions and it is triggered manually; automation action is a condition set by users, and the set action is automatically executed when the condition is triggered.</p>
<p>In the Tuya smart Android SDK, smart includes the unified management interface of scene and automation actions, </p>
<p><code>TuyaHomeSdk.TuyaHomeSdk.getSceneManagerInstance()</code></p>
<p>and the independent operation interface</p>
<p><code>TuyaHomeSdk.newSceneInstance(String sceneId)</code>, The independent operation interface needs to be initialized with the scene id. The scene id can be obtained in the result of <a href="#ObtainSceneList">obtaining the scene list interface.</a></p>
<p><strong>In the following documents, manual scene and automated scene are simply referred to as scene.</strong></p>
<h2 id="obtain-scene-list"><a name="obtain-scene-list" class="plugin-anchor" href="#obtain-scene-list"><i class="fa fa-link" aria-hidden="true"></i></a><span id="ObtainSceneList">Obtain scene list</span></h2>
<p><strong>[Description]</strong></p>
<p>Get the scene list, which can be used when the scene home page is initialized. Determine the manual scene and automation actions through SceneBean&apos;s getConditions(); the value is empty when it is a manual scene.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Obtain scene list
 * @param callback
 */</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getSceneList</span><span class="token punctuation">(</span>ITuyaDataCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span>
</code></pre>
<p>Among, the interface of <code>SceneBean</code> is defined as follows</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
  * Obtain scene id
  * @returnScene id
 */</span>
<span class="token keyword">public</span> String <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
  * Obtain scene name
  * @returnScene name
 */</span>
<span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
  *  Obtain scene conditions 
  * @returnScene condition
 */</span>
<span class="token keyword">public</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneCondition<span class="token punctuation">&gt;</span></span> <span class="token function">getConditions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
  *  Obtain scene task
  * @returnScene task
 */</span>
<span class="token keyword">public</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneTask<span class="token punctuation">&gt;</span></span> <span class="token function">getActions</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token comment">/**
  * Obtain scene id
  * @return Scene id
 */</span>
<span class="token keyword">public</span> String <span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSceneList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span> result<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>

      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>Automation condition</strong></p>
<p>User&apos;s configurable conditions include weather conditions, device status and timer.</p>
<ul>
<li>Weather type</li>
</ul>
<p>Weather conditions include temperature, humidity, weather, PM2.5, air quality, sunrise and sunset, and cities can be freely selected. The weather conditions that can be selected differently depending on the device in the user account.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
  * Create weather conditions
  *
  * @param place weather city 
  * @param type condition type
  * @param rule  condition regulations
  * @return
 */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> SceneCondition <span class="token function">createWeatherCondition</span><span class="token punctuation">(</span>
      PlaceFacadeBean place<span class="token punctuation">,</span> 
      String type<span class="token punctuation">,</span>
      Rule rule<span class="token punctuation">)</span>
</code></pre>
<p>Note: The PlaceFacadeBean class object is obtained from the <a href="#citylist">Obtain City List</a>,<a href="#ObtainCityAltitudeLongitude">Obtain City By Altitude And Longitude</a> and <a href="#ObtainCityById">Obtain City By City ID</a> interface. Currently, the acquired urban interface only supports domestic cities.</p>
<ul>
<li>Device type</li>
</ul>
<p>A device condition is a scheduled task for another device or devices triggered by a device which is in a certain state. <strong>The same device cannot be used as both a condition and a task to avoid cycle control.</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
  * Create device type conditions
  *
  * @param devBean  condition device
  * @param dpId    condition dpId
  * @param rule    condition regulations
  * @return
 */</span>
<span class="token keyword">public</span> <span class="token keyword">static</span> SceneCondition <span class="token function">createDevCondition</span><span class="token punctuation">(</span>
      SceneDevBean devBean<span class="token punctuation">,</span>
      String dpId<span class="token punctuation">,</span>
      Rule rule<span class="token punctuation">)</span>
</code></pre>
<p>Note: SceneDevBean class object can be obtained from the interface of <a href="#ObtainConditionDeviceList">Obtain the condition device list</a>.</p>
<ul>
<li>Timer</li>
</ul>
<p>Timer refers that the scheduled task can be executed when the specified time is reached.</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
   * Create timer conditions
   * @param display is used to display the user-selected time conditions.
   * @param name  Name of Timer condition
   * @param type condition type
   * @param rule  condition regulations
   * @return
  */</span>
  <span class="token keyword">public</span> <span class="token keyword">static</span> SceneCondition <span class="token function">createTimerCondition</span><span class="token punctuation">(</span>String display<span class="token punctuation">,</span>String name<span class="token punctuation">,</span>String type<span class="token punctuation">,</span>Rule rule<span class="token punctuation">)</span>
</code></pre>
<h4 id="there-are-four-rules-for-rule-condition-rules"><a name="there-are-four-rules-for-rule-condition-rules" class="plugin-anchor" href="#there-are-four-rules-for-rule-condition-rules"><i class="fa fa-link" aria-hidden="true"></i></a><span id="rules">There are four rules for rule-condition rules:</span></h4>
<ul>
<li>Numerical type</li>
</ul>
<p>Taking temperature as an example, the final expression of the numerical condition is formatted as &quot;temp &gt; 20&quot;. You can get the currently supported temperature maximum, minimum and granularity (stepping) from the Obtain Condition List interface; you can get the supported temperature from the Obtain Condition List, etc. After the configuration is completed on the user interface, the <code>ValueRule.newInstance</code> method is invoked to build the rules, and the rules are used to form the conditions.</p>
<p>For example:</p>
<pre class="language-"><code class="lang-java"> ValueProperty tempProperty <span class="token operator">=</span> <span class="token punctuation">(</span>ValueProperty<span class="token punctuation">)</span> conditionListBean<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Numeric Property</span>


 <span class="token keyword">int</span> max <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getMax</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Maximum value</span>
 <span class="token keyword">int</span> min <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getMin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">//Minimum value</span>
 <span class="token keyword">int</span> step <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>     <span class="token comment">//Granularity</span>
 String unit <span class="token operator">=</span> tempProperty<span class="token punctuation">.</span><span class="token function">getUnit</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Unit</span>
 <span class="token comment">//The temperature is greater than 20 &#x2103;</span>
 ValueRule tempRule <span class="token operator">=</span> ValueRule<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
       <span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//Category</span>
       <span class="token string">&quot;&gt;&quot;</span><span class="token punctuation">,</span>     <span class="token comment">//operational rule (&quot;&gt;&quot;, &quot;==&quot;, &quot;&lt;&quot;)</span>
       <span class="token number">20</span>       <span class="token comment">//Critical value</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span> 
 SceneCondition tempCondition <span class="token operator">=</span> SceneCondition<span class="token punctuation">.</span><span class="token function">createWeatherCondition</span><span class="token punctuation">(</span>
       placeFacadeBean<span class="token punctuation">,</span>   <span class="token comment">//City</span>
       &#x201C;temp&quot;<span class="token punctuation">,</span>            <span class="token comment">//Category</span>
       tempRule           <span class="token comment">//Rule</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Enumerated type</li>
</ul>
<p>Taking the weather condition as an example, the final expression of the enumerated condition is formatted as &quot;condition == rainy&quot;. You can get the currently supported weather conditions from the Obtain Condition List interface, including the code and name of each weather condition. After the configuration is completed on the user interface, the EnumRule.newInstancemethod is invoked to build the rules, and the rules are used to form the conditions.</p>
<p>For example:</p>
<pre class="language-"><code class="lang-java"> EnumProperty weatherProperty <span class="token operator">=</span> <span class="token punctuation">(</span>EnumProperty<span class="token punctuation">)</span> conditionListBean<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Enumeration type Property</span>

<span class="token comment">/** 
 {
      {&quot;sunny&quot;, &quot; fine day&quot;},
      {&quot;rainy&quot;, &quot;rainy day&quot;}
 } 
 */</span>
 HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>Object<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> enums <span class="token operator">=</span> weatherProperty<span class="token punctuation">.</span><span class="token function">getEnums</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//It&apos;s rainy.</span>
 EnumRule enumRule <span class="token operator">=</span> EnumRule<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
               <span class="token string">&quot;condition&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//Category </span>
               <span class="token string">&quot;rainy&quot;</span>        <span class="token comment">// Enumerated value selected</span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
 SceneCondition weatherCondition <span class="token operator">=</span> SceneCondition<span class="token punctuation">.</span><span class="token function">createWeatherCondition</span><span class="token punctuation">(</span>
               placeFacadeBean<span class="token punctuation">,</span>    <span class="token comment">//City</span>
               <span class="token string">&quot;condition&quot;</span><span class="token punctuation">,</span>        <span class="token comment">//Category</span>
               enumRule            <span class="token comment">//Rule </span>
 <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Boolean type</li>
</ul>
<p>Boolean types are common in device type conditions, and the final expression is formatted as &quot;dp1 == true&quot;. You need to invoke the <a href="#ObtainConditionDeviceList">Obtain the condition device list</a> interface to obtain devices that support the configuration of the smart scene, and then query the operations that the device can support based on the device id. See the Obtain Operations Supported by Device for details. After the configuration is completed on the user interface, the BoolRule.newInstancemethod is invoked to build the rules, and the rules are used to form the conditions.</p>
<p>For example:</p>
<pre class="language-"><code class="lang-java">BoolProperty devProperty <span class="token operator">=</span> <span class="token punctuation">(</span>BoolProperty<span class="token punctuation">)</span> conditionListBean<span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Boolean type Property</span>
<span class="token comment">/**
{
  {true, &#x201C;on&quot;},
  {false, &quot;off&quot;}
}
*/</span>
HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>Boolean<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> boolMap <span class="token operator">=</span> devProperty<span class="token punctuation">.</span><span class="token function">getBoolMap</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 

<span class="token comment">//When the device starts.</span>
BoolRule boolRule <span class="token operator">=</span> BoolRule<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>
      <span class="token string">&quot;dp1&quot;</span><span class="token punctuation">,</span>    <span class="token comment">//&quot;dp&quot; + dpId</span>
      <span class="token boolean">true</span>    <span class="token comment">//bool of triggering conditions</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
SceneCondition devCondition <span class="token operator">=</span> SceneCondition<span class="token punctuation">.</span><span class="token function">createDevCondition</span><span class="token punctuation">(</span>
      devBean<span class="token punctuation">,</span>    <span class="token comment">//Device </span>
      <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>        <span class="token comment">//dpId</span>
      boolRule    <span class="token comment">//Rule </span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<ul>
<li>Timer type</li>
</ul>
<p>Timer is expressed as a Map type, that is Key: Value. After the user completes the timer configuration, the <code>TimerRule.newInstance</code> is invoked to complete the Map data assembly by the SDK to form the rule condition.</p>
<p>For example:</p>
<pre class="language-"><code class="lang-java">
TimerProperty timerProperty <span class="token operator">=</span> <span class="token punctuation">(</span>TimerProperty<span class="token punctuation">)</span>conditionListBean<span class="token punctuation">.</span>
 <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">//Timer-type property</span>


 <span class="token comment">//TimerRule.newInstance provides two construction methods, the difference is whether it will pass the time zone.</span>
 <span class="token comment">//If it does not pass the time zone, read default time zone.</span>
 <span class="token comment">/**
   * 
   * @param timeZoneId time zone, the format like &quot;Asia/Shanghai&#x201D;
   * @param loops 7-digit character string; each digit represents what day of the week; the first digit represents Sunday, and the second digit represents Monday.
   * By analogy, the character indicates on which days the timer is enabled. 0 indicates not selected; 1 indicates selected, with format like only Monday Selected.
   * Tuesday: &quot;0110000&quot;&#x3002; If they are not selected, it means that the timer is only executed once, with the format: &quot;0000000&quot;
   * @param time 24-hour system With format like &quot;08:00&quot;, 
   * If the user uses the 12-hour system, the developer needs to convert it to a 24-hour system and upload it.
   * @param date, format like &quot;20180310&quot;
   * @return
  */</span>

<span class="token keyword">public</span> <span class="token keyword">static</span> TimerRule <span class="token function">newInstance</span><span class="token punctuation">(</span>String timeZoneId<span class="token punctuation">,</span>String loops<span class="token punctuation">,</span>String time<span class="token punctuation">,</span>String date<span class="token punctuation">)</span><span class="token punctuation">;</span>

 <span class="token comment">//Create timer rule</span>
 TimerRule timerRule <span class="token operator">=</span> TimerRule<span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span><span class="token string">&quot;Asia/Shanghai&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;0111110&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;16:00&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;20180310&quot;</span><span class="token punctuation">)</span>

 <span class="token comment">/**

   * The required parameters have the same meaning as the parameters of the above method, and the default time zone is read.
   * @param loops
   * @param time
   * @param date
   * @return
  */</span>
 <span class="token keyword">public</span> <span class="token keyword">static</span> TimerRule <span class="token function">newInstance</span><span class="token punctuation">(</span>String loops<span class="token punctuation">,</span>String time<span class="token punctuation">,</span>String date<span class="token punctuation">)</span><span class="token punctuation">;</span>



 <span class="token comment">/**
   * Create timer conditions
   * @param display  is used to display the user-selected time conditions.
   * @param name  Name of Timer condition
   * @param type condition type
   * @param rule  condition regulations
   * @return
  */</span>

 <span class="token keyword">public</span> <span class="token keyword">static</span> SceneCondition <span class="token function">createTimerCondition</span><span class="token punctuation">(</span>String display<span class="token punctuation">,</span>String name<span class="token punctuation">,</span>String type<span class="token punctuation">,</span>Rule rule<span class="token punctuation">)</span><span class="token punctuation">;</span>



 <span class="token comment">//Create timer conditions, taking the Timer rule constructed above as an example.</span>

 SceneCondition<span class="token punctuation">.</span><span class="token function">createTimerCondition</span><span class="token punctuation">(</span>

 <span class="token string">&quot;Monday, Tuesday, Wednesday, Thursday &amp; Friday&quot;</span><span class="token punctuation">,</span>

 &#x201C;Timer in work day&quot;<span class="token punctuation">,</span>

 <span class="token string">&quot;timer&quot;</span><span class="token punctuation">,</span>

 timerRule

 <span class="token punctuation">)</span>
</code></pre>
<h3 id="obtain-condition-list"><a name="obtain-condition-list" class="plugin-anchor" href="#obtain-condition-list"><i class="fa fa-link" aria-hidden="true"></i></a>Obtain condition list</h3>
<p><strong>[Interface Description]</strong></p>
<p>It can be used to get a list of conditions that are currently supported by the user, as a first step in adding or modifying conditions usually.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
  * Obtain condition list
  * @param showFahrenheit shows Fahrenheit degree or not
  * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getConditionList</span><span class="token punctuation">(</span><span class="token keyword">boolean</span> showFahrenheit<span class="token punctuation">,</span>ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>ConditionListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
Among<span class="token punctuation">,</span>  the <span class="token keyword">interface</span> <span class="token class-name">provided</span> by ConditionListBean is
<span class="token comment">/**
  * Obtain condition category
  *
  * @return category [1]
 */</span>
<span class="token keyword">public</span> String <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>&#xB7;

<span class="token comment">/**
  * Obtain condition name
  *
  * @return name 
 */</span>
<span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
  * Obtain Property [2]
  *
  * @return Property 
 */</span>
<span class="token keyword">public</span> IProperty <span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> property<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Note:</strong></p>
<p>1.Currently supported weather condition categories, names and Property types</p>
<table>
<thead>
<tr>
<th><strong>Description</strong></th>
<th><strong>Type</strong></th>
<th><strong>Property Type</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>Temperature</td>
<td>Temp</td>
<td>ValueProperty</td>
</tr>
<tr>
<td>Humidity</td>
<td>humidity</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Weather</td>
<td>condition</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>PM2.5</td>
<td>pm25</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Air quality</td>
<td>aqi</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Sunrise &amp; sunset</td>
<td>sunsetrise</td>
<td>EnumProperty</td>
</tr>
<tr>
<td>Timer</td>
<td>timer</td>
<td>TimerProperty</td>
</tr>
</tbody>
</table>
<p>2.Property is a commonly used data structure in Tuya smart to control devices and other functions. Currently, four properties are available: Numerical Type, Enumerated Type, Boolean Type, and Timer Type (corresponding to Value, Enum and Boolean in the condition), each property is provided with a different access interface. See the <a href="#rules">rules introduction section</a> above for details.</p>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">
TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConditionList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaDataCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>ConditionListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>ConditionListBean<span class="token punctuation">&gt;</span></span> conditionActionBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-the-condition-device-list"><a name="obtain-the-condition-device-list" class="plugin-anchor" href="#obtain-the-condition-device-list"><i class="fa fa-link" aria-hidden="true"></i></a><span id="ObtainConditionDeviceList">Obtain the condition device list</span></h3>
<p><strong>[Description]</strong></p>
<p>Obtain a list of devices that can be used for conditional settings.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
  * Obtain a list of optional devices in the condition
  * @param homeId Home id
  * @param callback
 */</span>

<span class="token keyword">void</span> <span class="token function">getConditionDevList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong>  </p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getConditionDevList</span><span class="token punctuation">(</span>homeId <span class="token punctuation">,</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span> deviceBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-device-tasks-based-on-device-id"><a name="obtain-device-tasks-based-on-device-id" class="plugin-anchor" href="#obtain-device-tasks-based-on-device-id"><i class="fa fa-link" aria-hidden="true"></i></a>Obtain device tasks based on device id</h3>
<p><strong>[Description]</strong></p>
<p>It is used to obtain the tasks that can be selected when selecting the specific trigger conditions of the device.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java">  <span class="token comment">/**
     * Obtain a list of task conditions supported by the device
     *
     * @param devId    device id
     * @param callback
     */</span>
      <span class="token keyword">void</span> <span class="token function">getDeviceConditionOperationList</span><span class="token punctuation">(</span>String devId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Among, <code>TaskListBean</code> provides the following interfaces:</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 *  obtain the name of dp points for display interface.
 *
 * @return name of dp points
 */</span>
<span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 *  Obtain dpId
 *
 * @return dpId
 */</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getDpId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> dpId<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Obtain the operation configured by the dp point
 *
 *   Format:
 *     {
 *       {true, &#x201C;on&quot;},
 *       {false, &quot;off&quot;}
 *     {
 *
 * @return 

 */</span>
<span class="token keyword">public</span> HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>Object<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> <span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> tasks<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * Obtain the type bool, value, enum, etc. of the condition. 
 */</span>
<span class="token keyword">public</span> String <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> type<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceConditionOperationList</span><span class="token punctuation">(</span>
      devId<span class="token punctuation">,</span> <span class="token comment">//Device id</span>
      <span class="token keyword">new</span> <span class="token class-name">ITuyaDataCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span> conditionActionBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token punctuation">}</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="obtain-the-city-list"><a name="obtain-the-city-list" class="plugin-anchor" href="#obtain-the-city-list"><i class="fa fa-link" aria-hidden="true"></i></a><span id="citylist">Obtain the city list</span></h3>
<p><strong>[Description]</strong></p>
<p>It is used to select a city when creating weather conditions. Note: Only Chinese cities are supported in the current city list for the time being.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token comment">/**
 Obtain the city list according to the country code.
 *
 * @param countryCode Country code
 * @param callback    callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getCityListByCountryCode</span><span class="token punctuation">(</span>String countryCode<span class="token punctuation">,</span> ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Among, PlaceFacadeBean category provides interfaces as follows:</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Obtain area name
 *
 * @return Area name
 */</span>
<span class="token keyword">public</span> String <span class="token function">getArea</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> area<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Obtain name of province
 *
 * @return province name 
 */</span>
<span class="token keyword">public</span> String <span class="token function">getProvince</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> province<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * Obtain the city name
 *
 * @return city name 
 */</span>
<span class="token keyword">public</span> String <span class="token function">getCity</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> city<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Obtain the city id
 *
 * @return city id
 */</span>
<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getCityId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> cityId<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityListByCountryCode</span><span class="token punctuation">(</span>
      <span class="token string">&quot;cn&quot;</span><span class="token punctuation">,</span>  <span class="token comment">//China </span>
      <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span> placeFacadeBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-city-id"><a name="obtain-the-city-information-according-to-the-city-id" class="plugin-anchor" href="#obtain-the-city-information-according-to-the-city-id"><i class="fa fa-link" aria-hidden="true"></i></a><span id="ObtainCityById">Obtain the city information according to the city id.</span></h3>
<p><strong>[Description]</strong></p>
<p>Obtain the city information according to the city id to display existing weather conditions. City id can be obtained from the <a href="#citylist">Obtain City List</a> interface.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Obtain the city information according to the city id.
 *
 * @param cityId   cityid{@link PlaceFacadeBean}
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getCityByCityIndex</span><span class="token punctuation">(</span><span class="token keyword">long</span> cityId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityByCityIndex</span><span class="token punctuation">(</span>
      cityId<span class="token punctuation">,</span> <span class="token comment">//City id</span>
      <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>PlaceFacadeBean placeFacadeBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>

          <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-the-city-information-according-to-the-altitude-and-longitude-of-city-"><a name="obtain-the-city-information-according-to-the-altitude-and-longitude-of-city-" class="plugin-anchor" href="#obtain-the-city-information-according-to-the-altitude-and-longitude-of-city-"><i class="fa fa-link" aria-hidden="true"></i></a><span id="ObtainCityAltitudeLongitude">Obtain the city information according to the altitude and longitude of city </span></h3>
<p><strong>[Description]</strong></p>
<p>Obtain the city information according to the longitude and latitude to display existing weather conditions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Obtain the city information according to the altitude and longitude of city
 *
 * @param lon      Longitude
 * @param lat      Latitude
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getCityByLatLng</span><span class="token punctuation">(</span>String lon<span class="token punctuation">,</span> String lat<span class="token punctuation">,</span> ITuyaResultCallback<span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getCityByLatLng</span><span class="token punctuation">(</span>
      String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>longitude<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">//Longitude </span>
      String<span class="token punctuation">.</span><span class="token function">valueOf</span><span class="token punctuation">(</span>latitude<span class="token punctuation">)</span><span class="token punctuation">,</span>   <span class="token comment">//Latitude </span>
      <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics function"><span class="token punctuation">&lt;</span>PlaceFacadeBean<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>PlaceFacadeBean placeFacadeBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token punctuation">}</span>
          <span class="token annotation punctuation">@Override</span>
          <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="scene-action"><a name="scene-action" class="plugin-anchor" href="#scene-action"><i class="fa fa-link" aria-hidden="true"></i></a>Scene action</h3>
<p>Scene actions refer to control actions performed when conditions trigger. Actions executable in manual scenarios include <a href="#Device_Type">smart device type</a>, <a href="#Group_Type">group device type</a>, <a href="#Scene_Type">automation scenario type</a> and <a href="#Delay_Type">delay type</a>. The executable actions of automation scenario include <a href="#Device_Type">smart device type</a>, <a href="#Group_Type">group device type</a>, <a href="#Scene_Type">manual scene type</a>, <a href="#Scene_Type">automation scene type</a>, <a href="#Delay_Type">delay type</a> and <a href="#Message_Type">message type</a>. The tasks that users can set vary depending on the user&#x2019;s device. Please note that not every product supports the scene.</p>
<h4 id="1create-device-type-action"><a name="1create-device-type-action" class="plugin-anchor" href="#1create-device-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Device_Type">1.Create device type action</span></h4>
<p><strong>[Description]</strong></p>
<p>It is used to create device type actions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token comment">/**
 * It is used to create device type actions.
 *
 * @param devId device id
 * @param tasks to be implemented task format: { dpId: dp point value}
 *   For example:
 *   {
 *     &quot;1&quot;: true,
 *   }
 * @returnScene action
 */</span>
SceneTask <span class="token function">createDpTask</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> String devId<span class="token punctuation">,</span> HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> tasks<span class="token punctuation">)</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> taskMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
taskMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Turn on the device</span>
SceneTask task <span class="token operator">=</span> TuyaHomeSceneManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDpTask</span><span class="token punctuation">(</span>
      devId<span class="token punctuation">,</span>      <span class="token comment">//Device id</span>
      taskMap     <span class="token comment">//Device action</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="a-list-of-devices-supported-by-obtaining-execution-action"><a name="a-list-of-devices-supported-by-obtaining-execution-action" class="plugin-anchor" href="#a-list-of-devices-supported-by-obtaining-execution-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="ObtainExecutionAction">A list of devices supported by obtaining execution action</span></h3>
<p><strong>[Description]</strong></p>
<p>Obtain a list of devices supporting scene actions for selecting to add to the action to be executed.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Obtain a list of optional devices in the action
 * @param homeId Home id
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">getTaskDevList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Among, <strong>DeviceBean**</strong>provides interfaces as follows:**</p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 *  Obtain name of Device
 * 
 * @return Device name 
 */</span>
<span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 *  Product ID
 * 
 * @return product id
 */</span>

<span class="token keyword">public</span> String <span class="token function">getProductId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token keyword">return</span> productId<span class="token punctuation">;</span>

<span class="token punctuation">}</span>



<span class="token comment">/**
 *  Obtain id of device
 * 
 * @return device id
 */</span>

<span class="token keyword">public</span> String <span class="token function">getDevId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

      <span class="token keyword">return</span> devId<span class="token punctuation">;</span>

<span class="token punctuation">}</span>



<span class="token comment">/**
 *  Obtain icon of device
 * 
 * @return icon address
 */</span>

<span class="token keyword">public</span> String <span class="token function">getIconUrl</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

       <span class="token keyword">return</span> iconUrl<span class="token punctuation">;</span>

 <span class="token punctuation">}</span>

<span class="token comment">/**
 * device is online
 * @return device is online
 */</span>

<span class="token keyword">public</span> Boolean <span class="token function">getIsOnline</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTaskDevList</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span> deviceBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>
      <span class="token annotation punctuation">@Override</span>
      <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="obtain-executable-actions-based-on-device-id"><a name="obtain-executable-actions-based-on-device-id" class="plugin-anchor" href="#obtain-executable-actions-based-on-device-id"><i class="fa fa-link" aria-hidden="true"></i></a>Obtain executable actions based on device id</h3>
<p><strong>[Description]</strong></p>
<p>It is used to obtain the tasks executed by the device when creating an action. The device id can be obtained from the <a href="#ObtainExecutionAction">a list of devices supported by obtaining execution action</a></p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
* Obtain what the device can execute
* @param devId    device id
* @param callback
*/</span>
<span class="token keyword">void</span> <span class="token function">getDeviceTaskOperationList</span><span class="token punctuation">(</span>String devId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
Among<span class="token punctuation">,</span> TaskListBean provides interfaces as follows<span class="token operator">:</span>
<span class="token comment">/**
 *  obtain the name of dp points for display interface.
 *
 * @return name of dp points
 */</span>
<span class="token keyword">public</span> String <span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token comment">/**
 *
 *  Obtain dpId
 * @return dpId
 */</span>

<span class="token keyword">public</span> <span class="token keyword">long</span> <span class="token function">getDpId</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> dpId<span class="token punctuation">;</span>

<span class="token punctuation">}</span>



<span class="token comment">/**
 * Obtain the operation configured by the dp point
 *
 *   Format:
 *     {
 *       {true, &#x201C;on&quot;},
 *       {false, &quot;off&quot;}
 *     }
 *
 * @return 
 */</span>

<span class="token keyword">public</span> HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>Object<span class="token punctuation">,</span> String<span class="token punctuation">&gt;</span></span> <span class="token function">getTasks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> tasks<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
 * Obtain the type bool, value, enum, etc. of the condition.
*/</span>
<span class="token keyword">public</span> String <span class="token function">getType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> type<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getDeviceTaskOperationList</span><span class="token punctuation">(</span>
    devId<span class="token punctuation">,</span>      <span class="token comment">//Device id</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span> conditionActionBeans<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
       <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
       <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="2create-group-device-type-action"><a name="2create-group-device-type-action" class="plugin-anchor" href="#2create-group-device-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Group_Type">2.Create group device type action</span></h4>
<p><strong>[Description]</strong></p>
<p>It is used to create group device type actions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token comment">/**
 * It is used to create group device type actions.
 *
 * @param group id
 * @param tasks to be implemented task format: { dpId: dp point value}
 *   For example:
 *   {
 *     &quot;1&quot;: true,
 *   }
 * @returnScene action
 */</span>
SceneTask <span class="token function">createDpTask</span><span class="token punctuation">(</span><span class="token annotation punctuation">@NonNull</span> <span class="token keyword">long</span> groupId<span class="token punctuation">,</span> HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> tasks<span class="token punctuation">)</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">HashMap<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">,</span> Object<span class="token punctuation">&gt;</span></span> taskMap <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
taskMap<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Turn on the device</span>
TuyaHomeSceneManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDpGroupTask</span><span class="token punctuation">(</span>
    groupId<span class="token punctuation">,</span>     <span class="token comment">//group id</span>
    taskMap     <span class="token comment">//Device action</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="a-list-of-group-devices-to-get-execution-action-support"><a name="a-list-of-group-devices-to-get-execution-action-support" class="plugin-anchor" href="#a-list-of-group-devices-to-get-execution-action-support"><i class="fa fa-link" aria-hidden="true"></i></a><span id="GetGroupActionDevList">A List of Group Devices to Get Execution Action Support</span></h4>
<p><strong>[Description]</strong></p>
<p>Obtain a list of devices that support scenario actions, including common devices and group devices, for selecting the actions to be added to.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
* Obtain a list of devices that support scenario actions, including groups and common devices
* @param homeId
* @param callback 
*/</span>
<span class="token function">getTaskDevAndGoupList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token generics function"><span class="token punctuation">&lt;</span>SceneTaskGroupDevice<span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span>
</code></pre>
<p>Among, <code>SceneTaskGroupDevice</code> provides interfaces as follows:</p>
<pre class="language-"><code class="lang-java">
<span class="token comment">/**
*  obtain a list of common devices
*/</span>
<span class="token keyword">public</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>DeviceBean<span class="token punctuation">&gt;</span></span> <span class="token function">getDevices</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> devices<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">/**
*  obtain a list of group devices
*/</span>
<span class="token keyword">public</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>GroupBean<span class="token punctuation">&gt;</span></span> <span class="token function">getGoups</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> goups<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre>
<h4 id="obtain-executable-actions-based-on-group-id"><a name="obtain-executable-actions-based-on-group-id" class="plugin-anchor" href="#obtain-executable-actions-based-on-group-id"><i class="fa fa-link" aria-hidden="true"></i></a>Obtain executable actions based on group id</h4>
<p><strong>[Description]</strong></p>
<p>It is used to obtain the tasks executed by the group device when creating an action. The group id can be obtained from the <a href="#GetGroupActionDevList">a list of group devices to get execution action support</a></p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
* Obtain executable actions based on group id
*
* @param goupId   
* @param callback
*/</span>
<span class="token keyword">void</span> <span class="token function">getDeviceTaskOperationListByGroup</span><span class="token punctuation">(</span>String goupId<span class="token punctuation">,</span> ITuyaResultCallback<span class="token operator">&lt;</span>List<span class="token generics function"><span class="token punctuation">&lt;</span>TaskListBean<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span>
</code></pre>
<h4 id="3create-scenario-type-action"><a name="3create-scenario-type-action" class="plugin-anchor" href="#3create-scenario-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Scene_Type">3.Create scenario type action</span></h4>
<p><strong>[Description]</strong></p>
<p>Scenario type actions are used to create scene type actions, including manual and automated scenarios. Parameters can be obtained through the <a href="#ObtainSceneList">scenario list interface</a></p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * create scene type action
 * @sceneBean scene object
 * @return sceneTask
 */</span>
SceneTask <span class="token function">createSceneTask</span><span class="token punctuation">(</span>SceneBean sceneBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSceneManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createSceneTask</span><span class="token punctuation">(</span>scnenBean<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="4create-delay-type-action"><a name="4create-delay-type-action" class="plugin-anchor" href="#4create-delay-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Delay_Type">4.Create delay type action</span></h4>
<p><strong>[Description]</strong></p>
<p>It is used to create delay type actions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token comment">/**
 * Create delay type action
 * Maximum support for 59m59s
 * @param minute minutes
 * @param second seconds
 * @return sceneTask
 */</span>
SceneTask <span class="token function">createDelayTask</span><span class="token punctuation">(</span><span class="token keyword">int</span> minute<span class="token punctuation">,</span> <span class="token keyword">int</span> second<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSceneManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createDelayTask</span><span class="token punctuation">(</span>
    <span class="token number">2</span><span class="token punctuation">,</span>  <span class="token comment">//minutes</span>
    <span class="token number">2</span>    <span class="token comment">//seconds</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h4 id="5create-message-type-action"><a name="5create-message-type-action" class="plugin-anchor" href="#5create-message-type-action"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Message_Type">5.Create message type action</span></h4>
<p><strong>[Description]</strong></p>
<p>It is used to create message type actions.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * create message type action
 * @return
 */</span>
SceneTask <span class="token function">createPushMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSceneManager<span class="token punctuation">.</span><span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createPushMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h2 id="scene-operation"><a name="scene-operation" class="plugin-anchor" href="#scene-operation"><i class="fa fa-link" aria-hidden="true"></i></a><span id="Scene_operation">Scene Operation</span></h2>
<p>TuyaHomeSdk provides four operations for creating, modifying, executing, and deleting a single scene. In addition to creating other operations, the scene ID needs to be initialized. The scene ID can be obtained from the interface of <a href="#ObtainSceneList">obtaining the scene list interface.</a></p>
<h3 id="create-scene"><a name="create-scene" class="plugin-anchor" href="#create-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Create Scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to assemble conditions and actions into a scene and create a new scene, and then returns the scene data after success. There are two creation methods, and the only difference is whether there are stickyOnTop parameters.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Create Scene
 *
 * @param homeId      Home id
 * @param name      Scene name 
 * @param stickyOnTop shows in the home page or not
 * @param conditions Scene triggering conditions {@link SceneCondition}
 * @param tasks     Scene task {@link SceneTask}
 * @param matchType Scene condition and/or relationship  SceneBean.MATCH_TYPE_OR represents that it satisfies any conditions, default value; SceneBean.MATCH_TYPE_AND represents that it satisfies all conditions
 * @param callback   callback

 */</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createScene</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> <span class="token keyword">boolean</span> stickyOnTop<span class="token punctuation">,</span> String background<span class="token punctuation">,</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneCondition<span class="token punctuation">&gt;</span></span> conditions<span class="token punctuation">,</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneTask<span class="token punctuation">&gt;</span></span> tasks<span class="token punctuation">,</span><span class="token keyword">int</span> matchType<span class="token punctuation">,</span> <span class="token keyword">final</span> ITuyaResultCallback<span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span> <span class="token punctuation">;</span>

<span class="token comment">/**
 * Create Scene
 *
 * @param homeId      Home id
 * @param name      Scene name 
 * @param conditions Scene triggering conditions {@link SceneCondition}
 * @param tasks     Scene task {@link SceneTask}
 * @param matchType Scene condition and/or relationship  SceneBean.MATCH_TYPE_OR represents that it satisfies any conditions, default value; SceneBean.MATCH_TYPE_AND represents that it satisfies all conditions
 * @param callback   callback
 */</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">createScene</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> String name<span class="token punctuation">,</span> String background<span class="token punctuation">,</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneCondition<span class="token punctuation">&gt;</span></span> conditions<span class="token punctuation">,</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>SceneTask<span class="token punctuation">&gt;</span></span> tasks<span class="token punctuation">,</span><span class="token keyword">int</span> matchType<span class="token punctuation">,</span> <span class="token keyword">final</span> ITuyaResultCallback<span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span> <span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createScene</span><span class="token punctuation">(</span>
     <span class="token string">&quot;100001&quot;</span>
    &#x201C;Morning&quot;<span class="token punctuation">,</span> <span class="token comment">// Scene name</span>
    <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">//Show it in the home page or not</span>
    conditions<span class="token punctuation">,</span> <span class="token comment">//condition</span>
    tasks<span class="token punctuation">,</span>     <span class="token comment">//task</span>
    SceneBean<span class="token punctuation">.</span>MATCH_TYPE_AND<span class="token punctuation">,</span> <span class="token comment">//Implement condition type</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>SceneBean sceneBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;createScene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="modify-the-scene"><a name="modify-the-scene" class="plugin-anchor" href="#modify-the-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Modify the scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to modify the scene. After it succeeded, it will return to new scene data.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java">
<span class="token comment">/**
 * Modify the scene
 * 
 * @param sceneReqBean Scene data class
 * @param callback
 */</span>

<span class="token keyword">void</span> <span class="token function">modifyScene</span><span class="token punctuation">(</span>SceneBean sceneReqBean<span class="token punctuation">,</span> ITuyaResultCallback<span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>Note: The interface can only be used to modify the scene. Do not transmit into the newly created SceneBean object.</p>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">sceneBean<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;New name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Change Scene name </span>
sceneBean<span class="token punctuation">.</span><span class="token function">setConditions</span><span class="token punctuation">(</span>Collections<span class="token punctuation">.</span><span class="token function">singletonList</span><span class="token punctuation">(</span>condition<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Change Scene condition</span>
sceneBean<span class="token punctuation">.</span><span class="token function">setActions</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//Change Scene action</span>
String sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//Get the Scene id to initialize</span>
TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">modifyScene</span><span class="token punctuation">(</span>
    sceneBean<span class="token punctuation">,</span>  <span class="token comment">//Modified Scene data class</span>
    <span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token generics function"><span class="token punctuation">&lt;</span>SceneBean<span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>SceneBean sceneBean<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Modify Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="execute-scene"><a name="execute-scene" class="plugin-anchor" href="#execute-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Execute scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to execute manual scene.</p>
<p>Note: This method only sends commands to the cloud execution scenario. If the specific device is executed successfully, you need to monitor the device&apos;s dp point change through TuyaHomeSdk.newDeviceInstance(devId).registerDevListener().</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Perform scene actions
 *
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">executeScene</span><span class="token punctuation">(</span>IResultCallback callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">String sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">executeScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Excute Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="delete-scene"><a name="delete-scene" class="plugin-anchor" href="#delete-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Delete scene</h3>
<p><strong>[Description]</strong></p>
<p>For deleting scene</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Delete Scene
 *
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">deleteScene</span><span class="token punctuation">(</span>IResultCallback callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">String sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">deleteScene</span><span class="token punctuation">(</span><span class="token keyword">new</span> 
<span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;Delete Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="turn-on-and-turn-off-the-automation-scene"><a name="turn-on-and-turn-off-the-automation-scene" class="plugin-anchor" href="#turn-on-and-turn-off-the-automation-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Turn on and turn off the automation scene</h3>
<p><strong>[Description]</strong></p>
<p>It is used to turn on or off the automatic scene.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Turn on automation scene
 * @param sceneId  
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">enableScene</span><span class="token punctuation">(</span>String sceneId<span class="token punctuation">,</span> <span class="token keyword">final</span> IResultCallback callback<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Turn off the automation scene
 * @param sceneId  
 * @param callback
 */</span>
<span class="token keyword">void</span> <span class="token function">disableScene</span><span class="token punctuation">(</span>String sceneId<span class="token punctuation">,</span> <span class="token keyword">final</span> IResultCallback callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">String sceneId <span class="token operator">=</span> sceneBean<span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">enableScene</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">,</span><span class="token keyword">new</span> 
<span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
       Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;enable Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>



TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">disableScene</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">,</span><span class="token keyword">new</span> 

<span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Log<span class="token punctuation">.</span><span class="token function">d</span><span class="token punctuation">(</span>TAG<span class="token punctuation">,</span> <span class="token string">&quot;disable Scene Success&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="sort-scene"><a name="sort-scene" class="plugin-anchor" href="#sort-scene"><i class="fa fa-link" aria-hidden="true"></i></a>Sort scene</h3>
<p><strong>[Description]</strong></p>
<p>Manual scene or automation scene sorting. Note: Manual or automation scenes can only be sorted separately and cannot be shuffled.</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
 * Scene sorting
 * @param homeId family id
 * @param sceneIds  Sorted id list for manual or automation scenes 
 * @param callback    callback
 */</span>
<span class="token keyword">void</span> <span class="token function">sortSceneList</span><span class="token punctuation">(</span><span class="token keyword">long</span> homeId<span class="token punctuation">,</span> List<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> sceneIds<span class="token punctuation">,</span> IResultCallback callback<span class="token punctuation">)</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sortSceneList</span><span class="token punctuation">(</span>
    homeId<span class="token punctuation">,</span> <span class="token comment">//Home list</span>
    sceneIds<span class="token punctuation">,</span><span class="token comment">//Scene id list</span>
    <span class="token keyword">new</span> <span class="token class-name">IResultCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String errorCode<span class="token punctuation">,</span> String errorMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">}</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="scene-background-images"><a name="scene-background-images" class="plugin-anchor" href="#scene-background-images"><i class="fa fa-link" aria-hidden="true"></i></a>Scene Background Images</h3>
<p><strong>[Description]</strong></p>
<p>Get scene background images</p>
<p><strong>[Method Prototype]</strong></p>
<pre class="language-"><code class="lang-java"><span class="token comment">/**
* 
* @param callback callback
*/</span>
 <span class="token keyword">void</span> <span class="token function">getSceneBgs</span><span class="token punctuation">(</span>ITuyaResultCallback<span class="token operator">&lt;</span>ArrayList<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getSceneBgs</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">ITuyaResultCallback</span><span class="token operator">&lt;</span>ArrayList<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span><span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onSuccess</span><span class="token punctuation">(</span>ArrayList<span class="token generics function"><span class="token punctuation">&lt;</span>String<span class="token punctuation">&gt;</span></span> strings<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">onError</span><span class="token punctuation">(</span>String s<span class="token punctuation">,</span> String s1<span class="token punctuation">)</span> <span class="token punctuation">{</span>

        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<h3 id="erase"><a name="erase" class="plugin-anchor" href="#erase"><i class="fa fa-link" aria-hidden="true"></i></a>Erase</h3>
<p><strong>[Description]</strong></p>
<p>If the user exits the activity of the scene, the scene destruction method should be invoked to reclaim the memory and enhance the experience.</p>
<p><strong>[Example Codes]</strong></p>
<pre class="language-"><code class="lang-java">TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">getSceneManagerInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
TuyaHomeSdk<span class="token punctuation">.</span><span class="token function">newSceneInstance</span><span class="token punctuation">(</span>sceneId<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">onDestroy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Group_control.html" class="navigation navigation-prev " aria-label="Previous page: Group Control">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="SmartScene_Manager.html#Smart" class="navigation navigation-next " aria-label="Next page: Smart scene">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Smart scene","level":"1.13","depth":1,"next":{"title":"Smart scene","level":"1.13.1","depth":2,"anchor":"#Smart","path":"resource/SmartScene_Manager.md","ref":"./resource/SmartScene_Manager.md#Smart","articles":[]},"previous":{"title":"Group Control","level":"1.12.3","depth":2,"path":"resource/Group_control.md","ref":"./resource/Group_control.md","articles":[]},"dir":"ltr"},"config":{"plugins":["js-sequence-diagram-full@>=0.3.1","prism","-highlight","anchors"],"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"pluginsConfig":{"prism":{"css":["prismjs/themes/prism-okaidia.css"],"lang":{"java":"java"},"ignore":["sequence"]},"livereload":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"js-sequence-diagram-full":{},"fontsettings":{"theme":"white","family":"sans","size":2},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"anchors":{}},"theme":"default","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"language":"en","gitbook":"*"},"file":{"path":"resource/SmartScene_Manager.md","mtime":"2019-09-23T01:55:33.264Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2019-10-24T06:57:54.122Z"},"basePath":"..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/sequence-diagram-min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-js-sequence-diagram-full/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

